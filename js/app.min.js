(()=>{"use strict";var e,t;e=function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},(t=new Image).onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA";const o=document.querySelector(".header");window.addEventListener("scroll",(function(){this.scrollY>50?o.classList.add("sticky"):o.classList.remove("sticky")}));const i=document.querySelector(".menu_burger"),n=document.querySelector(".header_menu");i&&n&&i.addEventListener("click",(function(){this.classList.toggle("active"),n.classList.toggle("active")}));let c=document.querySelectorAll("[data-href]");if(c.length>0)for(let e of c)e.addEventListener("click",(function(){document.getElementById(this.getAttribute("data-href")).scrollIntoView({behavior:"smooth"}),n.classList.remove("active"),i.classList.remove("active")}));document.documentElement.addEventListener("click",(function(){let e=event.target;console.log(),e.closest(".menu_burger")||e.closest(".header_menu")||(n.classList.remove("active"),i.classList.remove("active"))}));const s=document.querySelectorAll(".program_item");for(let e of s)e.addEventListener("click",(function(){if(!event.target.closest(".program_item-content")){for(e of s)e!=this&&(e.classList.remove("active"),e.querySelector(".program_item-content").style.height="0px");let t=this.querySelector(".program_item-content");this.classList.contains("active")?(this.classList.remove("active"),t.style.height=0):(this.classList.add("active"),t.style.height=t.scrollHeight+"px")}}));document.querySelector(".reviews_items")&&new Swiper(".reviews_items",{spaceBetween:65,navigation:{nextEl:".reviews_arrow-next",prevEl:".reviews_arrow-prev"}});const l=document.querySelectorAll("*[data-popup]");let a="",r=!1;for(let e of l)e.addEventListener("click",m);function m(){if(event.preventDefault(),a&&(a.classList.remove("active"),a=""),!r){let e=this.getAttribute("data-popup");if(e&&(a=document.body.querySelector(e)),a){if(console.log(a),a.classList.add("active"),document.body.classList.add("lock"),document.querySelector(`${e} .popup-zooov_topslider`)){let t=new Swiper(`${e} .popup-zooov_topslider`,{spaceBetween:40});new Swiper(`${e} .popup-zooov_slider`,{spaceBetween:16,slidesPerView:4,freeMode:!0}),document.querySelector(`${e} .popup-zooov_slider`).addEventListener("click",(function(){let e=event.target.closest(".popup-zooov_item"),o=Array.prototype.slice.call(event.target.closest(".popup-zooov_item").parentElement.children);t.slideTo(o.indexOf(e))}))}d(300)}}}function d(e){r=!0,setTimeout((function(){r=!1}),e)}document.addEventListener("click",(function(){event.target.closest(".popup_block")&&!event.target.closest(".popup_close")||r||!a||(a.classList.remove("active"),a="",document.body.classList.remove("lock"),d(300))}));const p=document.querySelectorAll("form");for(let e of p)e.addEventListener("submit",(function(e){e.preventDefault();let t=new FormData(this),o=this;async function i(e){fetch("https://prost.pipedrive.com/v1/leads?api_token=e1188484a6f0e83cc17e3bfb9269f7a13e078e65",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({title:"[Ver1] "+t.get("pib"),person_id:Number(e)})}).then((e=>console.log(e))).then((e=>e))}console.log(this),async function(e){o.querySelector(".button").classList.add("inactive");const t=await async function(e){return await fetch("https://prost.pipedrive.com/v1/persons?api_token=e1188484a6f0e83cc17e3bfb9269f7a13e078e65",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:e.get("pib"),phone:e.get("phone"),email:e.get("email")})}).then((e=>e.json())).then((e=>e))}(e);if(await i(t.data.id),o.closest("form").innerHTML='\n\t\t\t\t<div class="form_title title" style="text-align:center;">\n\t\t\t\tЗаявка відправлена\n\t\t\t\t</div>\n\t\t\t\t',o.closest(".popup_block")){v();const e=864e5;localStorage.setItem("time",Date.now()+e),u()}}(t)}));function u(){const e=new Date(Number(localStorage.getItem("time")));let t=document.querySelectorAll(".pack_timer-time");setInterval((function(){const o=new Date,i=e-o;if(e>o){const e=1e3,o=60*e,n=60*o;Math.floor(i/n),Math.floor(i%n/o).toLocaleString("en-US",{minimumIntegerDigits:2}),Math.floor(i%o/e).toLocaleString("en-US",{minimumIntegerDigits:2});for(let c of t)c.innerHTML=`\n\t\t\t<div class="pack_timer-time">\n\t\t\t\t<div class="pack_timer-item" data-text="годин">${Math.floor(i/n)}</div><span>:</span>\n\t\t\t\t<div class="pack_timer-item" data-text="хвилин">${Math.floor(i%n/o).toLocaleString("en-US",{minimumIntegerDigits:2})}</div><span>:</span>\n\t\t\t\t<div class="pack_timer-item" data-text="секунд">${Math.floor(i%o/e).toLocaleString("en-US",{minimumIntegerDigits:2})}</div>\n\t\t\t</div>`}else localStorage.setItem("time",null)}),1e3)}function v(){let e=document.querySelectorAll(".pack_item-button "),t=document.querySelectorAll(".pack_item-price"),o=document.querySelectorAll(".pack_timer");for(let t of e)t.innerHTML='<a href="" class="button">\n\t\t\t<img src="img/pack/lock.svg" alt="">\n\t\t\t<span>Купити прямо зараз</span>\n\t\t</a>',t.setAttribute("data-popup","");for(let e of t)e.classList.remove("hide");for(let e of o)e.classList.remove("hide")}const f=Number(localStorage.getItem("time"));let g=new Date(f),h=new Date;console.log(g>h),console.log(f),f&&g<h&&localStorage.setItem("time",null),f&&(u(),v())})();